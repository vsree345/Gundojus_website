(this["webpackJsonpGundojus Internal Tools"]=this["webpackJsonpGundojus Internal Tools"]||[]).push([[0],{191:function(e,t,a){e.exports=a(362)},357:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(169),o=a.n(l),i=a(12),c=a(28),p={defaultWidth:1280,breakpoints:{sm:[{type:"max-width",value:576}],md:[{type:"max-width",value:768}],lg:[{type:"max-width",value:992}]},color:{dark:"#04080C",darkL1:"#0E1317",darkL2:"#191E22",grey:"#6F839F",greyD1:"#637897",greyD2:"#586D8E",light:"#F7FBFF",lightD1:"#EDF2F6",lightD2:"#E4E8EC",green:"#00875A",primary:"#0077CC",secondary:"#FFC400",orange:"#FF7C22",red:"#DE350B",purple:"#FD6DF9",indigo:"#9B6CFC"},fontFamily:{sans:"-apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",sansHeavy:"Impact, Haettenschweiler, 'Franklin Gothic Bold', Charcoal, 'Helvetica Inserat', 'Bitstream Vera Sans Bold', 'Arial Black', sans-serif",sansHelvetica:"Frutiger, 'Frutiger Linotype', Univers, Calibri, 'Gill Sans', 'Gill Sans MT', 'Myriad Pro', Myriad, 'DejaVu Sans Condensed', 'Liberation Sans', 'Nimbus Sans L', Tahoma, Geneva, 'Helvetica Neue', Helvetica, Arial, sans-serif",sansVerdana:"Corbel, 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', 'Bitstream Vera Sans', 'Liberation Sans', Verdana, 'Verdana Ref', sans-serif",sansTrebuchet:"'Segoe UI', Candara, 'Bitstream Vera Sans', 'DejaVu Sans', 'Trebuchet MS', Verdana, 'Verdana Ref', sans-serif",mono:"Consolas, 'Andale Mono WT', 'Andale Mono', 'Lucida Console', 'Lucida Sans Typewriter', 'DejaVu Sans Mono', 'Bitstream Vera Sans Mono', 'Liberation Mono', 'Nimbus Mono L', Monaco, 'Courier New', Courier, monospace",serifTimes:"Cambria, 'Hoefler Text', Utopia, 'Liberation Serif', 'Nimbus Roman No9 L Regular', Times, 'Times New Roman', serif",serifGeorgia:"Constantia, 'Lucida Bright', Lucidabright, 'Lucida Serif', Lucida, 'DejaVu Serif', 'Bitstream Vera Serif', 'Liberation Serif', Georgia, serif",serifGaramond:"'Palatino Linotype', Palatino, Palladio, 'URW Palladio L', 'Book Antiqua', Baskerville, 'Bookman Old Style', 'Bitstream Charter', 'Nimbus Roman No9 L', Garamond, 'Apple Garamond', 'ITC Garamond Narrow', 'New Century Schoolbook', 'Century Schoolbook', 'Century Schoolbook L', Georgia, serif"},font:{headline1:"normal 900 72px/1.2 --fontFamily-sans",headline2:"normal 900 42px/1.2 --fontFamily-sans",headline3:"normal 500 28px/1.2 --fontFamily-sans",base:"normal 300 16px/1.5 --fontFamily-sans",lead:"normal 300 20px/1.5 --fontFamily-sans"},boxShadow:{m:"0 4px 5px -1px rgba(0, 0, 0, 0.1)",l:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",xxl:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},background:{primaryGradient:"linear-gradient(180deg, --color-primary, transparent) no-repeat 0 0",secondaryGradient:"linear-gradient(180deg, --color-secondary, transparent) no-repeat 0 0"},transform:{rotate90:"rotate(90deg)",rotate180:"rotate(180deg)",flipX:"scaleX(-1)",flipY:"scaleY(-1)"},transition:{opacityOut:"opacity --transitionDuration-normal --transitionTimingFunction-easeOut",transformOut:"transform --transitionDuration-normal --transitionTimingFunction-easeOut",transformInOut:"transform --transitionDuration-normal --transitionTimingFunction-easeInOut"},transitionTimingFunction:{easeIn:"cubic-bezier(0.4, 0, 1, 1)",easeOut:"cubic-bezier(0, 0, 0.2, 1)",easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},transitionDuration:{fastest:"0.1s",fast:"0.2s",normal:"0.3s"},filter:{grayscale:"grayscale(100%)",invert:"invert(100%)",blur:"blur(10px)"},animation:{},keyframes:{fadeIn:[{key:"from",props:[{opacity:0}]},{key:"to",props:[{opacity:1}]}],fadeOut:[{key:"from",props:[{opacity:1}]},{key:"to",props:[{opacity:0}]}]},components:{section:{maxWidth:{default:"1280px"},minWidth:{default:"300px"},width:{default:"90%"}},stack:{gap:{default:"32px",small:"16px"}}},version:1},s=a(373),d=a(371),m=a(44),u=a(66),g=a(365),x=a(366),h=a(8),b=a(61),E=a(33);const f={404:{},index:{},login:{},"orders-customers":{}},y=E.b`
    body {
        ${e=>{let{styles:t}=e;return Object.entries(t||{}).map(e=>{let[t,a]=e;return`${t}: ${Object(b.b)(t,a)};`})}}
    }
`,w=e=>{let{pageUrl:t}=e;return n.a.createElement(y,{styles:f[t]})};var k=a(364),v=a(372),C=a(5);const O={backgroundColor:"#f8f9fa",padding:"10px 20px",textAlign:"center",borderTop:"1px solid #e7e7e7",position:"fixed",bottom:"16px",width:"100%"},j={margin:0,fontSize:"14px",color:"#6c757d"};var S=()=>n.a.createElement(s.a,{theme:p},n.a.createElement("footer",{style:O},n.a.createElement("p",{style:j},"Website by ",n.a.createElement("b",null,n.a.createElement("i",null,"@sreev"))," and ",n.a.createElement("i",null,n.a.createElement("b",null,"@gundojusohan")))));function D(){const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(""),[o,c]=Object(r.useState)(""),b=Object(i.k)();return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"index"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Login"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{height:"auto",background:"--color-light",padding:"0 0 0px 0"},n.a.createElement(d.a,{padding:"80px 0","sm-padding":"40px 0"},n.a.createElement(k.a,{slot:"SectionContent","align-items":"center"}),n.a.createElement(m.c,{as:"h2",font:"--headline1","md-font":"--headline2",margin:"20px 0 0 0"},"Gundoju's Internal Tools"),n.a.createElement(m.c,{as:"p",font:"--lead",margin:"0px 0 0px 0","text-align":"center"},"Manager Login"))),n.a.createElement(d.a,{background:"--color-light",color:"--dark",padding:"0px 0 64px 0","text-align":"left"},n.a.createElement(k.a,{slot:"SectionContent","align-self":"auto",display:"flex","align-items":"center"}),n.a.createElement(u.a,{margin:"16px 16px 16px 16px",display:"inline-block","flex-wrap":"wrap",overflow:"visible","align-content":"space-around","align-items":"center","flex-direction":"row","justify-content":"center","align-self":"center","text-align":"left"},n.a.createElement(u.a,{width:"100%",padding:"8px 8px 8px 8px","lg-width":"100%"},n.a.createElement(u.a,null,n.a.createElement(u.a,{gap:"16px",display:"grid","flex-direction":"row","flex-wrap":"wrap","grid-gap":"16px"},o&&n.a.createElement(m.c,{color:"red","text-align":"center"},o),n.a.createElement(u.a,{"sm-width":"100%",display:"flex","flex-direction":"column",width:"100%","min-width":"100%"},n.a.createElement(m.c,{font:"--base",margin:"0 0 4px 0"},"Email"),n.a.createElement(g.a,{width:"312px",type:"email",value:e,onChange:e=>t(e.target.value),"border-radius":"7.5px"})),n.a.createElement("br",null),n.a.createElement(u.a,{"sm-width":"100%",display:"flex","flex-direction":"column"},n.a.createElement(m.c,{font:"--base",margin:"0 0 4px 0"},"Password"),n.a.createElement(g.a,{width:"100%",type:"password",value:a,onChange:e=>l(e.target.value),"border-radius":"7.5px"})),n.a.createElement(u.a,{display:"flex","flex-direction":"column","align-items":"flex-start","grid-column":"1 / span 2"},n.a.createElement(x.a,{onClick:()=>{const t=Object(C.c)(),r=Object(C.h)(t,"users");Object(C.d)(r,t=>{const r=t.val();let n=!1;for(const l in r){const t=r[l];t.email===e&&t.password===a&&(n=!0,sessionStorage.setItem("role",t.role),"manager"!==t.role&&"sudo"!==t.role||b.push("/orders"))}n||c("Invalid email or password")})},"border-radius":"7.5px"},"Login"))))))),n.a.createElement(v.a,null,n.a.createElement("style",{place:"endOfHead",rawKey:"66f6d1359710450018a331b3"},":root {\n  box-sizing: border-box;\n}\n\n* {\n  box-sizing: inherit;\n}")),n.a.createElement(S,null))}var A=a(367),L=a(368),F=a(7),U=a(186),P=a(19);function I(e){return Array.from(e).map(e=>String.fromCharCode(e.charCodeAt(0)-1)).join("")}const q={apiKey:I("BJ{bTzCojnx`woWCerUe9PsvpyU3VIXyI.dj5Od"),authDomain:I("hvoepkvt.qspe/gjsfcbtfbqq/dpn"),databaseURL:I("iuuqt;00hvoepkvt.qspe.efgbvmu.suec/btjb.tpvuifbtu2/gjsfcbtfebubcbtf/bqq"),projectId:I("hvoepkvt.qspe"),storageBucket:I("hvoepkvt.qspe/bqqtqpu/dpn"),messagingSenderId:I(":43279::131:"),appId:I("2;:43279::131:;xfc;25geg8c4ef97cd987gdb11")},N=Object(U.a)(q),M=Object(P.c)(N),R=Object(C.c)(N),T=async e=>{const t=Object(P.d)(M,"images/"+e.name);return await Object(P.e)(t,e),Object(P.b)(t)},G=async e=>{const t=`audio_${(new Date).getTime()}.wav`,a=Object(P.d)(M,"audio/"+t);return await Object(P.e)(a,e),Object(P.b)(a)},_=async(e,t)=>{const a=Object(C.h)(R,"orders/"+e);Object(C.d)(a,e=>{const a=e.val();t(a)})},z=async e=>{const t=Object(C.h)(R,"orders"),a=Object(C.g)(t,Object(C.e)("deadline_raw"),Object(C.a)(e)),r=await Object(C.b)(a),n=[];return r.exists()&&r.forEach(e=>{n.push({id:e.key,...e.val()})}),n},V=async e=>{const t=Object(P.c)(),a=Object(P.d)(t,e);await Object(P.a)(a)},$=[{title:"Calendar",role:"manager",path:"/calendar"},{title:"Orders",role:"manager",path:"/orders"},{title:"Add Users",role:"sudo",path:"/sudo/users/add"},{title:"View Customers",role:"manager",path:"/customers/view"}],B=e=>{let{role:t,current:a}=e;const r=Object(i.k)(),l=$.filter(e=>e.role===t||"sudo"===t).map(e=>e.title!==a?n.a.createElement(m.c,{key:e.path,onClick:()=>r.push(e.path),cursor:"pointer",margin:"0 10px",font:"--lead",padding:"10px","border-radius":"5px",transition:"background-color 0.3s","hover-background":"--color-light","hover-color":"--primary"},e.title):null).filter(Boolean);return l.length>0?n.a.createElement(u.a,{display:"flex","justify-content":"space-around","align-items":"center",padding:"20px",background:"--color-lightD2"},l):null},W=async e=>{try{await(async e=>{const t=Object(C.h)(R,"orders/"+e);await Object(C.i)(t)})(e),window.location.reload()}catch(t){console.error("Error deleting order: ",t),alert("Failed to delete the order. Please try again.")}};var H=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(""),o=Object(i.k)();Object(r.useEffect)(()=>{(e=>{const t=Object(C.c)(),a=Object(C.h)(t,"orders");Object(C.d)(a,t=>{const a=t.val();if(a){const t=Object.keys(a).map(e=>({uuid:e,...a[e]}));e(t)}})})(t)},[]);const c=e=>String(e).replace(/\D/g,""),x=e.filter(e=>{try{if(!e)return!1;const t=String(e.customer_name||"").toLowerCase().trim(),r=String(a||"").toLowerCase().trim(),n=t.includes(r),l=String(e.phone_number||e.phone||""),o=c(l),i=c(r);let p=!1;return""!==i&&(p=o.includes(i)),n||p}catch(t){return console.error("Error filtering orders:",t),!1}});return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-managers"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Orders Manager"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"Orders"}),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Orders-Manager"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Orders"),n.a.createElement(A.a,{category:"md",icon:F.d,onClick:()=>{o.push("/orders/add")},size:"32px","align-self":"flex-end",margin:"16px 0px 16px 0px",style:{cursor:"pointer"}}),n.a.createElement(u.a,{display:"flex","justify-content":"center","align-items":"center",margin:"0px 0px 20px 0px"},n.a.createElement(g.a,{type:"text",placeholder:"Search by customer name or phone number",value:a,onChange:e=>l(e.target.value),width:"50%",padding:"8px 12px",border:"1px solid #ccc","border-radius":"4px","margin-right":"10px"})),n.a.createElement(u.a,{"min-width":"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","justify-content":"space-between","align-items":"center",padding:"10px","border-width":"0 0 2px 0","border-style":"solid","border-color":"#d1d7de",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{width:"20%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Order Time")),n.a.createElement(m.c,{width:"25%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Customer Name")),n.a.createElement(m.c,{width:"15%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Status")),n.a.createElement(m.c,{width:"10%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Pieces")),n.a.createElement(m.c,{width:"20%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Deadline")),n.a.createElement(m.c,{width:"5%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Edit")),n.a.createElement(m.c,{width:"5%","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Delete"))),x.length>0?n.a.createElement(u.a,null,x.map(e=>{var t,a;return n.a.createElement(u.a,{key:e.uuid,display:"flex","justify-content":"space-between","align-items":"center",padding:"10px","border-width":"0 0 1px 0","border-style":"solid","border-color":"#d1d7de",background:"#ffffff",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{width:"20%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},e.orderCreationDate," / ",e.orderCreationTime),n.a.createElement(m.c,{width:"25%","text-align":"center",font:"normal 500 28px/1.2 --fontFamily-serifGeorgia",color:"--dark"},e.customer_name),n.a.createElement(m.c,{width:"15%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:(a=e.progress,"Completed"===a?"#31a931":"In Progress"===a?"#ffaa00":"#ff0000")},n.a.createElement(L.a,null,e.progress)),n.a.createElement(m.c,{width:"10%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},(null===(t=e.pieces)||void 0===t?void 0:t.number_of_pieces)||"N/A"),n.a.createElement(m.c,{width:"20%","text-align":"center",font:"normal 400 16px/1.5 -apple-system, system-ui, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",color:"--dark"},e.deadline_formatted||"N/A"),n.a.createElement(u.a,{width:"5%",display:"flex","justify-content":"center","align-items":"center"},n.a.createElement(A.a,{category:"md",icon:F.b,size:"32px",margin:"0px",onClick:()=>{return t=e.uuid,void o.push("/orders/edit?uuid="+t);var t},style:{cursor:"pointer"}})),n.a.createElement(u.a,{width:"5%",display:"flex","justify-content":"center","align-items":"center"},n.a.createElement(A.a,{category:"md",icon:F.c,size:"32px",margin:"0px",onClick:()=>{return t=e.uuid,void(window.confirm("Are you sure you want to delete this order?")&&W(t));var t},style:{cursor:"pointer"}})))})):n.a.createElement(m.c,null,"No orders available"))),n.a.createElement(S,null))},Y=a(369),J=a(370);const K=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"button-upload",onClick:()=>{a.current.click()},margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))},X=e=>{let{handleAudioUpload:t,handleDeleteAudio:a,audioLink:l}=e;const[o,i]=Object(r.useState)(!1),c=Object(r.useRef)(null),p=Object(r.useRef)([]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px",onClick:o?()=>{c.current&&(c.current.stop(),i(!1))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(e);c.current=a,a.ondataavailable=e=>{p.current.push(e.data)},a.onstop=async()=>{const e=new Blob(p.current,{type:"audio/wav"});await t(e);p.current=[]},a.start(),i(!0)}catch(e){console.error("Error accessing microphone:",e),alert("Error accessing microphone")}}},o?"Stop Recording":"Record Audio"),l&&n.a.createElement(u.a,{display:"flex","align-items":"center"},n.a.createElement("audio",{controls:!0},n.a.createElement("source",{src:l,type:"audio/wav"}),"Your browser does not support the audio element."),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",margin:"0 0 0 10px",onClick:a,style:{cursor:"pointer"},"aria-label":"Delete Audio"})))};var Q=()=>{const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)("+91"),[o,c]=Object(r.useState)(""),[b,E]=Object(r.useState)([]),[f,y]=Object(r.useState)([]),[k,v]=Object(r.useState)(""),[O,j]=Object(r.useState)(new Date),D=Object(i.k)(),L=f.reduce((e,t)=>e+t.quantity,0);return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-customers"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Add Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(A.a,{category:"md",icon:F.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>D.push("/orders"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"New Order")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Customer Name"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:e,onChange:e=>t(e.target.value)}),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(u.a,{"min-width":"100px",display:"flex","align-items":"center",padding:"15px 0px 15px 0px"},n.a.createElement(g.a,{display:"inline-block",background:"white",value:a,"border-color":"--color-darkL2",width:"5%",padding:"6px 8px","border-radius":"7.5px",margin:"0px 4px 0px 0px",required:!0,onChange:e=>l(e.target.value)}),n.a.createElement(g.a,{display:"inline-block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",required:!0,value:o,onChange:e=>c(e.target.value)})),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Upload Images"),n.a.createElement(K,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>T(e)));E(e=>[...e,...t])}catch(t){console.error("Error uploading files:",t),alert("Failed to upload images. Please try again.")}}}),0===b.length?null:n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(b.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(b.length,4)+15*(Math.min(b.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},b.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e instanceof File?URL.createObjectURL(e):e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px"}),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(e=>{const t=b.filter((t,a)=>a!==e);E(t)})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete image "+(t+1)})))),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Record Audio"),n.a.createElement(X,{handleAudioUpload:async e=>{try{const t=await G(e);return v(t),t}catch(t){return console.error("Error uploading audio:",t),alert("Failed to upload audio. Please try again."),""}},handleDeleteAudio:()=>{v("")},audioLink:k}),n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"space-between"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Add Pieces"),n.a.createElement(A.a,{category:"md",icon:F.d,size:"32px",margin:"16px 0px 16px 0px",onClick:()=>{y([...f,{type:"Blouse",quantity:1,remarks:""}])},style:{cursor:"pointer"},"aria-label":"Add Piece"})),f.length>0&&n.a.createElement(n.a.Fragment,null,f.map((e,t)=>n.a.createElement(u.a,{key:t,display:"flex","align-items":"center",margin:"10px 0"},n.a.createElement(m.c,{width:"5%",textAlign:"center"},t+1),n.a.createElement(J.a,{value:e.type,onChange:e=>((e,t)=>{const a=f.map((a,r)=>r===e?{...a,type:t}:a);y(a)})(t,e.target.value),background:"white",width:"20%",padding:"5px",fontSize:"16px",margin:"0 10px"},n.a.createElement("option",{value:"Blouse"},"Blouse"),n.a.createElement("option",{value:"Lehenga"},"Lehenga"),n.a.createElement("option",{value:"Dress"},"Dress"),n.a.createElement("option",{value:"Peticoat"},"Peticoat")),n.a.createElement(g.a,{type:"number",value:e.quantity,onChange:e=>((e,t)=>{const a=f.map((a,r)=>r===e?{...a,quantity:Number(t)}:a);y(a)})(t,e.target.value),width:"20%",min:"1",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(g.a,{type:"text",placeholder:"Remarks",value:e.remarks,onChange:e=>((e,t)=>{const a=f.map((a,r)=>r===e?{...a,remarks:t}:a);y(a)})(t,e.target.value),width:"40%",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",onClick:()=>(e=>{y(f.filter((t,a)=>a!==e))})(t),style:{cursor:"pointer"},"aria-label":"Delete piece "+(t+1)}))),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Total Pieces: ",L)),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Deadline"),n.a.createElement(g.a,{type:"date",value:O.toISOString().split("T")[0],onChange:e=>{j(new Date(e.target.value))},width:"40%",background:"white",padding:"5px",margin:"0 10px",required:!0}),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(x.a,{onClick:async()=>{if(!e||!o)return void alert("Please fill in customer name and phone number.");if(0===f.length)return void alert("Please add at least one piece.");if(!O)return void alert("Please select a deadline date.");const t=new Date,r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),n=t.toLocaleDateString("en-US",{day:"numeric",year:"numeric",month:"long"}).replace(/(\d+)(th|st|nd|rd)/,"$1th"),l=(()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<7;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t})(),i=b.filter(e=>void 0!==e&&null!==e),c=`${(p=O).getFullYear()}-${("0"+(p.getMonth()+1)).slice(-2)}-${("0"+p.getDate()).slice(-2)}`;var p;const s=O.toLocaleDateString("en-US",{day:"numeric",year:"numeric",month:"long"}).replace(/(\d+)(th|st|nd|rd)/,"$1th"),d={customer_name:e,phone_number:`${a}${o}`,images:i,pieces:{number_of_pieces:L,details:f},audio_link:k,orderCreationTime:r,orderCreationDate:n,progress:"Pending",uuid:l,deadline_raw:c,deadline_formatted:s};try{await(async(e,t)=>{const a=Object(C.h)(R,"orders/"+t);await Object(C.j)(a,e)})(d,l)}catch(m){return console.error("Error saving order to database:",m),void alert("Failed to save order. Please try again.")}((e,t)=>{const a=`Hi, your order with UUID: ${t} has been successfully placed.`;console.log(`https://api.whatsapp.com/send?phone=${e}&text=${encodeURIComponent(a)}`)})(`${a}${o}`,l),D.push("/orders")},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Submit Order"))),n.a.createElement(S,null))},Z=a(187);const ee=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"button-upload",onClick:()=>{a.current.click()},margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))};var te=()=>{const e=Object(i.k)(),t=new URLSearchParams(Object(i.l)().search).get("uuid"),[a,l]=Object(r.useState)(null),[o,c]=Object(r.useState)([]),[b,E]=Object(r.useState)(""),[f,y]=Object(r.useState)(!0),[k,v]=Object(r.useState)(null),[O,j]=Object(r.useState)([]),[D,L]=Object(r.useState)(null),[U,I]=Object(r.useState)(!1),[q,N]=Object(r.useState)(""),[M,z]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{t?_(t,e=>{var t;e?(l(e),c((null===e||void 0===e||null===(t=e.pieces)||void 0===t?void 0:t.details)||[]),E((null===e||void 0===e?void 0:e.progress)||"Pending"),j(e.images||[]),L(e.audio_link||null),z((e=>{const t=new Date(e);return`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}`})(e.deadline_raw)||"")):v("Order not found or invalid UUID.");y(!1)}):(v("Invalid order UUID."),y(!1))}catch(e){v("Error fetching order data."),y(!1)}})()},[t]);const $=e=>{try{const t="https://firebasestorage.googleapis.com/v0/b/your-app.appspot.com/o/";if(e.startsWith(t)){const a=e.substring(t.length,e.indexOf("?"));return decodeURIComponent(a)}return null}catch(k){return console.error("Error extracting storage path:",k),null}},B=e=>{let{handleAudioUpload:t,handleDeleteAudio:a,audioLink:l}=e;const[o,i]=Object(r.useState)(!1),c=Object(r.useRef)(null),p=Object(r.useRef)([]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px",onClick:o?()=>{c.current&&(c.current.stop(),i(!1))}:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(e);c.current=a,a.ondataavailable=e=>{p.current.push(e.data)},a.onstop=async()=>{const e=new Blob(p.current,{type:"audio/wav"});await t(e);p.current=[]},a.start(),i(!0)}catch(k){console.error("Error accessing microphone:",k),alert("Error accessing microphone")}}},o?"Stop Recording":"Record Audio"),l&&n.a.createElement(u.a,{display:"flex","align-items":"center"},n.a.createElement("audio",{controls:!0},n.a.createElement("source",{src:l,type:"audio/wav"}),"Your browser does not support the audio element."),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",margin:"0 0 0 10px",onClick:a,style:{cursor:"pointer"},"aria-label":"Delete Audio"})))},W=o.reduce((e,t)=>e+t.quantity,0);return f?n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-edit"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(m.c,null,"Loading..."))):k?n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-edit"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(m.c,null,k))):n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-edit"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Schedule-5"},n.a.createElement(u.a,{"min-width":"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(A.a,{category:"md",icon:F.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>e.push("/orders"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Edit Order")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(u.a,{display:"flex","align-items":"center",margin:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"0"},"Customer Name"),n.a.createElement(Z.a,{size:"24px",style:{cursor:"pointer",marginLeft:"10px"},onClick:()=>{const e=`Your order has been confirmed.\nVisit https://internal.gundojus.in/#/orders/view?uuid=${t} to check the progress.\n\n- Sujatha Reddy`;const r=`https://api.whatsapp.com/send?phone=${a.phone_number.replace(/\D/g,"")}&text=${encodeURIComponent(e)}`;window.open(r,"_blank")},"aria-label":"Send WhatsApp Message"})),n.a.createElement(g.a,{display:"block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:a.customer_name||"",readOnly:!0}),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(g.a,{display:"block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:a.phone_number||"",readOnly:!0}),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Progress"),n.a.createElement(J.a,{value:b,onChange:e=>E(e.target.value),background:"white",width:"50%",padding:"5px","border-radius":"7.5px"},n.a.createElement("option",{value:"Pending"},"Pending"),n.a.createElement("option",{value:"In Progress"},"In Progress"),n.a.createElement("option",{value:"Completed"},"Completed")),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"space-between"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Add Pieces"),n.a.createElement(A.a,{category:"md",icon:F.d,size:"32px",margin:"16px 0px 16px 0px",onClick:()=>{c([...o,{type:"Blouse",quantity:1,remarks:""}])},style:{cursor:"pointer"},"aria-label":"Add Piece"})),o.length>0&&n.a.createElement(n.a.Fragment,null,o.map((e,t)=>n.a.createElement(u.a,{key:t,display:"flex","align-items":"center",margin:"10px 0"},n.a.createElement(m.c,{width:"5%",textAlign:"center"},t+1),n.a.createElement(J.a,{value:e.type,onChange:e=>((e,t)=>{const a=o.map((a,r)=>r===e?{...a,type:t}:a);c(a)})(t,e.target.value),background:"white",width:"20%",padding:"5px",margin:"0 10px"},n.a.createElement("option",{value:"Blouse"},"Blouse"),n.a.createElement("option",{value:"Lehenga"},"Lehenga"),n.a.createElement("option",{value:"Dress"},"Dress"),n.a.createElement("option",{value:"Peticoat"},"Peticoat")),n.a.createElement(g.a,{type:"number",value:e.quantity,onChange:e=>((e,t)=>{const a=o.map((a,r)=>r===e?{...a,quantity:Number(t)}:a);c(a)})(t,e.target.value),width:"20%",min:"1",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(g.a,{type:"text",placeholder:"Remarks",value:e.remarks,onChange:e=>((e,t)=>{const a=o.map((a,r)=>r===e?{...a,remarks:t}:a);c(a)})(t,e.target.value),width:"40%",background:"white",padding:"5px",margin:"0 10px"}),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",onClick:()=>(e=>{c(o.filter((t,a)=>a!==e))})(t),style:{cursor:"pointer"},"aria-label":"Delete Piece "+(t+1)}))),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Total Pieces: ",W)),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Images"),n.a.createElement(ee,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>T(e)));j(e=>[...e,...t])}catch(k){console.error("Error uploading images:",k),alert("Failed to upload images. Please try again.")}}}),O.length>0&&n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(O.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(O.length,4)+15*(Math.min(O.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},O.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px",onClick:()=>(e=>{N(e),I(!0)})(e),style:{cursor:"pointer"},alt:"Order Image "+(t+1)}),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{const t=O[e],a=$(t);a&&await V(a);const r=O.filter((t,a)=>a!==e);j(r)}catch(k){console.error("Error deleting image:",k),alert("Failed to delete image. Please try again.")}})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete Image "+(t+1)})))),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Audio"),n.a.createElement(B,{handleAudioUpload:async e=>{try{const t=await G(e);return L(t),t}catch(k){return console.error("Error uploading audio:",k),alert("Failed to upload audio. Please try again."),""}},handleDeleteAudio:async()=>{if(window.confirm("Are you sure you want to delete the audio recording? This action cannot be undone."))try{if(D){const e=$(D);e&&await(async e=>{const t=Object(P.c)(),a=Object(P.d)(t,e);await Object(P.a)(a)})(e),L(null)}}catch(k){console.error("Error deleting audio:",k),alert("Failed to delete audio. Please try again.")}},audioLink:D}),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Deadline"),n.a.createElement(g.a,{type:"date",value:M,onChange:e=>{z(e.target.value)},width:"40%",background:"white",padding:"5px",margin:"0 10px",required:!0}),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(x.a,{onClick:async()=>{try{const r=e=>{const t=new Date(e),a=t.getDate();return`${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]} ${a}, ${t.getFullYear()}`},n={...a,pieces:{...a.pieces,details:o,number_of_pieces:W},progress:b,images:O,audio_link:D,deadline_raw:M,deadline_formatted:r(M)};await(async(e,t)=>{const a=Object(C.h)(R,"orders/"+e);await Object(C.k)(a,t)})(t,n),alert("Order updated successfully"),e.push("/orders")}catch(r){console.error("Error updating order:",r),alert("Error updating order. Please try again.")}},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Save Changes"))),U&&n.a.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{I(!1),N("")}},n.a.createElement("img",{src:q,alt:"Full Size",style:{maxHeight:"90%",maxWidth:"90%"},onClick:e=>e.stopPropagation()}))),n.a.createElement(S,null))},ae=a(188),re=a.n(ae);var ne=()=>{var e,t;const a=new URLSearchParams(Object(i.l)().search).get("uuid"),[l,o]=Object(r.useState)(null),[c,x]=Object(r.useState)(!0),[b,E]=Object(r.useState)(null);if(Object(r.useEffect)(()=>{(async()=>{try{a?_(a,e=>{e?o(e):E("Order not found."),x(!1)}):(E("Invalid order UUID."),x(!1))}catch(e){E("Error fetching order data."),x(!1)}})()},[a]),c)return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-view"}),n.a.createElement(m.c,null,"Loading order details..."));if(b)return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-view"}),n.a.createElement(m.c,null,b)," ");return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"orders-view"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"View Order"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"View-Order"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Order Details")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Customer Name"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.customer_name||"",readOnly:!0}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.phone_number||"",readOnly:!0})),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Order Creation Date"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.orderCreationDate||"",readOnly:!0}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Order Creation Time"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.orderCreationTime||"",readOnly:!0}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Deadline"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",value:l.deadline_raw||"",readOnly:!0})),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Pieces"),null===(e=l.pieces)||void 0===e||null===(t=e.details)||void 0===t?void 0:t.map((e,t)=>n.a.createElement(u.a,{key:t,display:"flex","align-items":"center",margin:"5px 0"},n.a.createElement(m.c,{width:"200px"},e.type),n.a.createElement(m.c,null,"Quantity: ",e.quantity)))),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Progress"),n.a.createElement(re.a,{completed:{Pending:0,"In Progress":50,Completed:100}[l.progress]||0,bgColor:(f=l.progress,"Completed"===f?"#31a931":"In Progress"===f?"#ffaa00":"#ff0000"),labelAlignment:"center",labelColor:"#ffffff",width:"50%"}))),n.a.createElement(S,null));var f};var le=()=>{const[e,t]=Object(r.useState)(""),[a,l]=Object(r.useState)(""),[o,i]=Object(r.useState)("manager");return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"sudo-add-users"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Add New User"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"Add Users"}),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Add-User"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Add New User")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Email"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:e,onChange:e=>t(e.target.value)}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Password"),n.a.createElement(g.a,{type:"password",display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:a,onChange:e=>l(e.target.value)}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Role"),n.a.createElement(J.a,{value:o,onChange:e=>i(e.target.value),background:"white",width:"50%",padding:"5px","border-radius":"7.5px"},n.a.createElement("option",{value:"manager"},"Manager"),n.a.createElement("option",{value:"sudo"},"Sudo")),n.a.createElement("br",null),n.a.createElement(x.a,{onClick:r=>{r.preventDefault(),e&&a?((async(e,t,a)=>{const r=Object(C.c)(),n=Object(C.h)(r,"users"),l=Object(C.f)(n);await Object(C.j)(l,{email:e,password:t,role:a}),alert("User added successfully")})(e,a,o),t(""),l(""),i("manager")):alert("Please fill in both email and password")},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Add User"))),n.a.createElement(S,null))},oe=a(182),ie=()=>n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"404"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Error 404"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"88px 0 88px 0","min-height":"100vh","quarkly-title":"404-1"},n.a.createElement(k.a,{slot:"SectionContent","max-width":"1220px","justify-content":"center"}),n.a.createElement(u.a,{"align-items":"center",display:"flex","justify-content":"center","flex-direction":"column"},n.a.createElement(m.c,{margin:"0px 0px 0px 0px",font:"--headline3",color:"--primary"},"404"),n.a.createElement(m.c,{color:"--dark",margin:"8px 0px 16px 0px","sm-font":'normal 700 42px/1.2 "Source Sans Pro", sans-serif',font:"--headline1","letter-spacing":"-0.025em"},"Page not found"),n.a.createElement(m.c,{"lg-width":"80%",font:"--lead",color:"--dark",margin:"0px 0px 40px 0px","text-align":"center"},"Sorry, we couldn\u2019t find the page you\u2019re looking for."),n.a.createElement(oe.a,{font:"--lead",padding:"12px 24px 12px 24px",background:"--color-primary","border-radius":"8px",href:"/","text-decoration-line":"initial",color:"--light",transition:"--opacityOut","hover-opacity":"0.7"},"Go back to home"))),n.a.createElement(v.a,null,n.a.createElement("style",{place:"endOfHead",rawKey:"66f6d1359710450018a331b3"},":root {\n  box-sizing: border-box;\n}\n\n* {\n  box-sizing: inherit;\n}")),n.a.createElement(S,null)),ce=a(189);a(356),a(357);var pe=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(new Date),[o,i]=Object(r.useState)(null),c=e=>`${e.getFullYear()}-${("0"+(e.getMonth()+1)).slice(-2)}-${("0"+e.getDate()).slice(-2)}`,g=async e=>{const a=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0),n=[];for(let t=new Date(a);t<=r;t.setDate(t.getDate()+1))n.push(c(new Date(t)));const l=[];for(const t of n){const e=await z(t);e.length>0&&l.push(...e)}t(l)};Object(r.useEffect)(()=>{g(a)},[a]);const x=t=>{const a=c(t);return e.filter(e=>e.deadline_raw===a)};return n.a.createElement(s.a,{theme:p},n.a.createElement(h.a,null,n.a.createElement("title",null,"Calendar"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"Calendar"}),n.a.createElement(d.a,{padding:"20px 0 20px 0"},n.a.createElement(m.c,{font:"normal 500 48px/1.2 --fontFamily-serifGeorgia","text-align":"center"},"Calendar"),n.a.createElement(u.a,{display:"flex",flexDirection:"column",alignItems:"center"},n.a.createElement(u.a,{display:"flex",justifyContent:"center",width:"100%"},n.a.createElement(ce.a,{onChange:e=>{l(e);const t=x(e).filter(e=>"Completed"!==e.progress);if(t.length>0){const a=t.reduce((e,t)=>e+t.pieces.number_of_pieces,0);i(`You have ${t.length} pending order(s) with a total of ${a} piece(s) on ${e.toDateString()}`)}else i("No pending orders on this day")},value:a,tileContent:e=>{let{date:t,view:a}=e;if("month"===a){if(x(t).some(e=>"Completed"!==e.progress))return n.a.createElement(u.a,{width:"8px",height:"8px",borderRadius:"50%",background:"red",margin:"0 auto",marginTop:"2px"})}return null},onActiveStartDateChange:e=>{let{activeStartDate:t}=e;return g(t)}})))),n.a.createElement(d.a,{padding:"20px 0 0px 0"},n.a.createElement(u.a,{display:"flex",flexDirection:"column",alignItems:"center"},x(a).length>0&&n.a.createElement(u.a,{marginTop:"30px",width:"100%"},n.a.createElement(u.a,{as:"table",width:"100%",borderCollapse:"collapse",marginTop:"30px"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Customer Name"),n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Pieces"),n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Created On"),n.a.createElement("th",{style:{padding:"10px",textAlign:"left"}},"Progress"))),n.a.createElement("tbody",null,x(a).map((e,t)=>{return n.a.createElement("tr",{key:t},n.a.createElement("td",{style:{padding:"10px",textAlign:"left"}},e.customer_name),n.a.createElement("td",{style:{padding:"10px",textAlign:"left"}},e.pieces.number_of_pieces),n.a.createElement("td",{style:{padding:"10px",textAlign:"left"}},e.orderCreationDate),n.a.createElement("td",{style:{padding:"10px",textAlign:"left",color:(a=e.progress,"Completed"===a?"#31a931":"In Progress"===a?"#ffaa00":"#ff0000")}},e.progress));var a}))))),o&&n.a.createElement(u.a,{background:"--color-lightD2",padding:"10px",borderRadius:"5px",textAlign:"center",marginTop:"20px",onClick:()=>i(null),cursor:"pointer"},o)),n.a.createElement(S,null))};var se=()=>{const e=Object(i.k)(),[t,a]=Object(r.useState)(""),[l,o]=Object(r.useState)("+91"),[c,b]=Object(r.useState)(""),[E,f]=Object(r.useState)([]),y=e=>{try{const t="https://firebasestorage.googleapis.com/v0/b/your-app.appspot.com/o/";if(e.startsWith(t)){const a=e.substring(t.length,e.indexOf("?"));return decodeURIComponent(a)}return null}catch(t){return console.error("Error extracting storage path:",t),null}},k=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{className:"button-upload",onClick:()=>{a.current.click()},margin:"20px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Measurements"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))};return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"add-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Add New Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(B,null),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Add-Customer"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(A.a,{category:"md",icon:F.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>e.push("/customers/view"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Add New Customer")),n.a.createElement(u.a,{"min-width":"100px","min-height":"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Customer Name"),n.a.createElement(g.a,{display:"block","placeholder-color":"LightGray",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",width:"50%",required:!0,value:t,onChange:e=>a(e.target.value),"aria-label":"Customer Name"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(u.a,{"min-width":"100px",display:"flex","align-items":"center",padding:"15px 0px 15px 0px"},n.a.createElement(g.a,{display:"inline-block",background:"white",value:l,"border-color":"--color-darkL2",width:"5%",padding:"6px 8px","border-radius":"7.5px",margin:"0px 4px 0px 0px",required:!0,onChange:e=>o(e.target.value),"aria-label":"Country Code"}),n.a.createElement(g.a,{display:"inline-block",background:"white","border-color":"--color-darkL2","border-radius":"7.5px",required:!0,value:c,onChange:e=>b(e.target.value),"aria-label":"Phone Number"})),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Measurements"),n.a.createElement(k,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>T(e)));f(e=>[...e,...t])}catch(t){console.error("Error uploading files:",t),alert("Failed to upload images. Please try again.")}}}),E.length>0&&n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(E.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(E.length,4)+15*(Math.min(E.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},E.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px",onClick:()=>window.open(e,"_blank"),style:{cursor:"pointer"},alt:"Measurement Image "+(t+1)}),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this measurement image? This action cannot be undone."))try{const t=E[e],a=y(t);a&&await V(a);const r=E.filter((t,a)=>a!==e);f(r)}catch(t){console.error("Error deleting image:",t),alert("Failed to delete image. Please try again.")}})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete Measurement Image "+(t+1)})))),n.a.createElement(Y.a,{"min-height":"10px","min-width":"100%",margin:"15px 0px 15px 0px","border-color":"--color-darkL2",width:"1200px"}),n.a.createElement(x.a,{onClick:async r=>{if(r.preventDefault(),!t||!c)return void alert("Please fill in customer name and phone number");const n=`${l}${c}`;try{await(async(e,t,a,r)=>{const n=Object(C.c)(),l=Object(C.h)(n,"customers/"+e);await Object(C.j)(l,{name:t,phone:a,measurements:r}),alert("Customer added successfully")})((()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let a=0;a<7;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t})(),t,n,E),a(""),b(""),o("+91"),f([]),alert("Customer added successfully!"),e.push("/customers/view")}catch(i){console.error("Error adding customer:",i),alert("Failed to add customer. Please try again."),e.push("/customers/view")}},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px","aria-label":"Add Customer"},"Add Customer"))),n.a.createElement(S,null))};const de=async e=>{try{await(async e=>{const t=Object(C.h)(R,"customers/"+e);await Object(C.i)(t)})(e),window.location.reload()}catch(t){console.error("Error deleting customer: ",t),alert("Failed to delete the customer. Please try again.")}};var me=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(""),o=Object(i.k)();Object(r.useEffect)(()=>{(e=>{const t=Object(C.c)(),a=Object(C.h)(t,"customers");Object(C.d)(a,t=>{const a=t.val();if(a){const t=Object.keys(a).map(e=>({uuid:e,...a[e]}));e(t)}else e([])})})(t)},[]);const c=e=>String(e).replace(/\D/g,""),x=e.filter(e=>{try{if(!e)return!1;const t=String(e.name||"").toLowerCase().trim(),r=String(a||"").toLowerCase().trim(),n=t.includes(r),l=String(e.phone||e.phone_number||""),o=c(l),i=c(a);let p=!1;return""!==i&&(p=o.includes(i)),n||p}catch(t){return console.error("Error filtering customers:",t),!1}});return n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"customers-list"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Customers"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(B,{role:sessionStorage.getItem("role"),current:"View Customers"}),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Customers-List"},n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Customers"),n.a.createElement(A.a,{category:"md",icon:F.e,onClick:()=>{o.push("/customers/add")},size:"32px","align-self":"flex-end",margin:"16px 0px 16px 0px",style:{cursor:"pointer"}}),n.a.createElement(u.a,{display:"flex","justify-content":"center",margin:"20px 0"},n.a.createElement(g.a,{width:"50%",placeholder:"Search by name or phone number",value:a,onChange:e=>l(e.target.value),padding:"10px","border-radius":"7.5px",border:"1px solid #ccc"})),n.a.createElement(u.a,{"min-width":"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","align-items":"center",padding:"10px","border-width":"0 0 2px 0","border-style":"solid","border-color":"#d1d7de",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{flex:"1","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Name")),n.a.createElement(m.c,{flex:"1","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Phone Number")),n.a.createElement(m.c,{width:"100px","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Edit")),n.a.createElement(m.c,{width:"100px","text-align":"center",font:"--lead",color:"--dark"},n.a.createElement(L.a,null,"Delete"))),x.length>0?n.a.createElement(u.a,null,x.map(e=>n.a.createElement(u.a,{key:e.uuid,display:"flex","align-items":"center",padding:"10px","border-width":"0 0 1px 0","border-style":"solid","border-color":"#d1d7de",background:"#ffffff",margin:"0px 0px 10px 0px"},n.a.createElement(m.c,{flex:"1","text-align":"center",font:"normal 500 24px/1.2 --fontFamily-serifGeorgia",color:"--dark"},e.name||e.customer_name||"N/A"),n.a.createElement(m.c,{flex:"1","text-align":"center",font:"normal 400 20px/1.5 --fontFamily-sans",color:"--dark"},e.phone||e.phone_number||"N/A"),n.a.createElement(u.a,{width:"100px",display:"flex","justify-content":"center","align-items":"center",padding:"0 10px"},n.a.createElement(A.a,{category:"md",icon:F.b,size:"32px",onClick:()=>{return t=e.uuid,void o.push("/customers/edit?uuid="+t);var t},style:{cursor:"pointer"}})),n.a.createElement(u.a,{width:"100px",display:"flex","justify-content":"center","align-items":"center",padding:"0 10px"},n.a.createElement(A.a,{category:"md",icon:F.c,size:"32px",onClick:()=>{return t=e.uuid,void(window.confirm("Are you sure you want to delete this customer?")&&de(t));var t},style:{cursor:"pointer"}}))))):n.a.createElement(m.c,{"text-align":"center"},"No customers available"))),n.a.createElement(S,null))};const ue=e=>{let{handleFile:t}=e;const a=Object(r.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a,{onClick:()=>{a.current.click()},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Upload Measurement Images"),n.a.createElement("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files);t(a)},ref:a,style:{display:"none"},multiple:!0,accept:"image/*"}))};var ge=()=>{const e=Object(i.k)(),t=new URLSearchParams(Object(i.l)().search).get("uuid"),[a,l]=Object(r.useState)(null),[o,c]=Object(r.useState)(!0),[b,E]=Object(r.useState)(null),[f,y]=Object(r.useState)([]),[k,v]=Object(r.useState)(!1),[O,j]=Object(r.useState)("");Object(r.useEffect)(()=>{(async()=>{try{t?((e,t)=>{console.log(e);const a=Object(C.h)(R,"customers/"+e);Object(C.d)(a,e=>{const a=e.val();t(a)})})(t,e=>{e?(l(e),y(e.measurements||[])):E("Customer not found or invalid UUID."),c(!1)}):(E("Invalid customer UUID."),c(!1))}catch(e){E("Error fetching customer data."),c(!1)}})()},[t]);const D=e=>{try{const t="https://firebasestorage.googleapis.com/v0/b/your-app.appspot.com/o/";if(e.startsWith(t)){const a=e.substring(t.length,e.indexOf("?"));return decodeURIComponent(a)}return null}catch(b){return console.error("Error extracting storage path:",b),null}};return o?n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"edit-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Edit-Customer"},n.a.createElement(m.c,null,"Loading..."))):b?n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"edit-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Edit-Customer"},n.a.createElement(m.c,null,b))):n.a.createElement(s.a,{theme:p},n.a.createElement(w,{pageUrl:"edit-customer"}),n.a.createElement(h.a,null,n.a.createElement("title",null,"Edit Customer"),n.a.createElement("link",{rel:"shortcut icon",href:"https://i.imgur.com/crcVWqA.png",type:"image/x-icon"})),n.a.createElement(d.a,{padding:"90px 0 100px 0","quarkly-title":"Edit-Customer"},n.a.createElement(u.a,{minWidth:"1200px",overflow:"auto",margin:"0 auto",padding:"0 10px"},n.a.createElement(u.a,{display:"flex","align-items":"center","justify-content":"center",position:"relative"},n.a.createElement(A.a,{category:"md",icon:F.a,size:"40px",margin:"16px",padding:"0px 0px 16px 0px",onClick:()=>e.push("/customers/view"),style:{cursor:"pointer",position:"absolute",left:"0"},"aria-label":"Back to Orders"}),n.a.createElement(m.c,{margin:"0px 0px 20px 0px","text-align":"center",font:"normal 500 56px/1.2 --fontFamily-serifGeorgia",color:"--dark","sm-margin":"0px 0px 30px 0px"},"Edit Customer")),n.a.createElement(u.a,{minWidth:"100px",minHeight:"100px",padding:"15px 0px 15px 0px"},n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Name"),n.a.createElement(g.a,{display:"block",background:"white",borderColor:"--color-darkL2",borderRadius:"7.5px",width:"50%",value:a.name||"","aria-label":"Customer Name"}),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Phone Number"),n.a.createElement(g.a,{display:"block",background:"white",borderColor:"--color-darkL2",borderRadius:"7.5px",width:"50%",value:a.phone||"","aria-label":"Phone Number"}),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(m.c,{margin:"15px 0px 15px 0px"},"Measurements"),n.a.createElement(ue,{handleFile:async e=>{try{const t=await Promise.all(e.map(e=>T(e)));y(e=>[...e,...t])}catch(b){console.error("Error uploading images:",b),alert("Failed to upload images. Please try again.")}}}),f.length>0&&n.a.createElement(u.a,{display:"grid","grid-template-columns":`repeat(${Math.min(f.length,4)}, 225px)`,"grid-auto-rows":"225px","grid-gap":"15px",width:225*Math.min(f.length,4)+15*(Math.min(f.length,4)-1)+"px",overflow:"auto",padding:"15px",border:"1px solid #ccc",margin:"15px 0"},f.map((e,t)=>n.a.createElement(u.a,{key:t,as:"div",position:"relative"},n.a.createElement(u.a,{as:"img",src:e,width:"225px",height:"225px","object-fit":"cover","border-radius":"5px",onClick:()=>(e=>{j(e),v(!0)})(e),style:{cursor:"pointer"},alt:"Order Image "+(t+1)}),n.a.createElement(A.a,{category:"md",icon:F.c,size:"24px",color:"#ff0000",position:"absolute",top:"5px",right:"5px",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this image? This action cannot be undone."))try{const t=f[e],a=D(t);a&&await V(a);const r=f.filter((t,a)=>a!==e);y(r)}catch(b){console.error("Error deleting image:",b),alert("Failed to delete image. Please try again.")}})(t),style:{cursor:"pointer",backgroundColor:"rgba(255,255,255,0.7)",borderRadius:"50%"},"aria-label":"Delete Image "+(t+1)})))),n.a.createElement(Y.a,{margin:"15px 0px 15px 0px",width:"1200px"}),n.a.createElement(x.a,{onClick:async()=>{try{const r={...a,measurements:f};console.log({updatedCustomerData:r}),await(async(e,t)=>{console.log({uuid:e},{updatedData:t});const a=Object(C.h)(R,"customers/"+e);await Object(C.k)(a,t)})(t,r),alert("Customer updated successfully"),e.push("/customers/view")}catch(r){console.error("Error updating customer:",r),alert("Error updating customer. Please try again.")}},margin:"40px 0",background:"#cb7731",color:"white",padding:"10px 20px","border-radius":"7.5px"},"Save Changes"))),k&&n.a.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},onClick:()=>{v(!1),j("")}},n.a.createElement("img",{src:O,alt:"Full Size",style:{maxHeight:"90%",maxWidth:"90%"},onClick:e=>e.stopPropagation()}))),n.a.createElement(S,null))};const xe=e=>{let{component:t,...a}=e;const r=sessionStorage.getItem("role");return n.a.createElement(i.d,Object.assign({},a,{render:e=>r?n.a.createElement(t,e):n.a.createElement(i.c,{to:"/login"})}))},he=e=>{let{component:t,...a}=e;const r=sessionStorage.getItem("role");return n.a.createElement(i.d,Object.assign({},a,{render:e=>"sudo"===r?n.a.createElement(t,e):n.a.createElement(i.c,{to:"/login"})}))};function be(){return n.a.createElement(c.HashRouter,null,n.a.createElement(i.g,null,n.a.createElement(i.d,{exact:!0,path:"/login",component:D}),n.a.createElement(i.d,{exact:!0,path:"/orders/view",component:ne})," ",n.a.createElement(xe,{exact:!0,path:"/orders",component:H}),n.a.createElement(xe,{exact:!0,path:"/orders/add",component:Q}),n.a.createElement(xe,{exact:!0,path:"/orders/edit",component:te}),n.a.createElement(xe,{exact:!0,path:"/calendar",component:pe}),n.a.createElement(xe,{exact:!0,path:"/customers/view",component:me}),n.a.createElement(xe,{exact:!0,path:"/customers/add",component:se}),n.a.createElement(xe,{exact:!0,path:"/customers/edit",component:ge}),n.a.createElement(he,{exact:!0,path:"/sudo/users/add",component:le}),n.a.createElement(i.d,{exact:!0,path:"/",component:D}),n.a.createElement(i.d,{component:ie})))}window.QAPI={pages:{root:{id:"root",pageUrl:"root",name:"root",children:["66f6d1359710450018a331ba","66f6d1359710450018a331bd","670bf015e5d277001898945e","670bf0609335410018c70fb2"]},"66f6d1359710450018a331ba":{id:"66f6d1359710450018a331ba",name:"404",pageUrl:"404"},"66f6d1359710450018a331bd":{id:"66f6d1359710450018a331bd",name:"Login",pageUrl:"index"},"670bf015e5d277001898945e":{id:"670bf015e5d277001898945e",pageUrl:"login",name:"Orders-Managers"},"670bf0609335410018c70fb2":{id:"670bf0609335410018c70fb2",pageUrl:"orders-customers",name:"Orders-Add"}},mode:"production",projectType:"create-react-app",site:{styles:{},seo:{}}},o.a.render(n.a.createElement(be,null),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.aadf73e9.chunk.js.map